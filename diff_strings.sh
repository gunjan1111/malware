#!/bin/bash

if [ ! $# -eq 2 ]
then
	echo "Usage: $0 <strings_file> <function_library_strings>"
	exit 1
fi

strings_file="$1"
function_library_file="$2"

for file in $strings_file $function_library_file
do
	if [ ! -f $file ]
	then
		echo "File: %s : Doesn't Exists !!!"
		exit 1
	fi
done

control_file="`mktemp /tmp/$USER.XXXXXX`"
cat "$strings_file" | while read -r line1
do
	cat "$function_library_file" | while read -r line2
	do
		if [ "$line1" == "$line2" ]
		then
			echo 1 > $control_file
			break
		fi
	done
	
	if [ "`cat $control_file`" == "0" ]
	then
		echo "$line1"
	fi

	echo 0 > $control_file		
done | grep -vE "~|\!|\)|\&|\@|\*|\%|\(|\`|\#|\{|\}|\^|\]|\[|'|\"|\;|\:|>|<|\+|\\\$|\,|\=|\?|^$|^(January|February|March|April|May|June|July|August|September|October|November|December|Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat|Jan|Feb|Mar|Apr|Jun|Jul|Aug|Sep|Oct|Nov|Dec)|^[a-z]+\-|^[A-Z]+[a-z]+[A-Z][a-z]+.*(Ex|W)?|^[0-9]+|^\." | while read -r line
do
	echo "$line"
done

rm -f $control_file
